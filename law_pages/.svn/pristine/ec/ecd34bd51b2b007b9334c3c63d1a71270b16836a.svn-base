angular.module('sbAdminApp').controller('chatSocketCtrl', function( $scope, $state,$log,$rootScope,socketConfig) {


    function Chat() {

        this.name = "";
        this.message = "";

    }

    $scope.chat = new Chat();

    var domain = window.location.href;
    var socketIP;
    if(domain && domain.indexOf('www.jtspt.com') > -1){
        socketIP = socketConfig.baiduSocketServer;
    }else if(domain && domain.indexOf('jttj.court.gov.cn') > -1){
        socketIP = socketConfig.jttjSocketServer;
    }else if(domain && domain.indexOf('demo.jtspt.com') > -1){
        socketIP = socketConfig.demoSocketServer;
    }else if(domain && domain.indexOf('180.76.176.197') > -1){
        socketIP = socketConfig.testSocketServer;
    }else{
        socketIP = socketConfig.thisSocketServer;
    }

    var socket =  io.connect(socketIP);

    console.info('zhangsan');
    console.info(socket);


    socket.on('advert_info', function(data){
        console.info(data);

    });




    $scope.sendSocket = function(){

        socket.emit('advert_info', $scope.chat.name + $scope.chat.message);
    };
});